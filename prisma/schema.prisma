generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Registration {
  id            String   @id @default(cuid())
  nama          String
  email         String   @unique
  telepon       String
  alamatLengkap String
  tanggalLahir  DateTime
  lulusan       String
  gajiOrtu      Int
  namaOrtu      String
  tujuan        String
  foto          String
  bersedia      Boolean  @default(false)
  createdAt     DateTime @default(now())

  donations     Donation[]
}

model Donation {
  id             String   @id @default(cuid())
  amount         Int
  status         String   // e.g., "PENDING", "PAID", "FAILED"
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  // Foreign key untuk menghubungkan donasi ke pendaftar
  registrationId String
  registration   Registration @relation(fields: [registrationId], references: [id])
}